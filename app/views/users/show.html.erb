<!--Profile Home Page -->


<p id="notice"><%= notice %></p>

<div class="user_info">
    <div class="well">
      <div class="user-pic inline">
      <% if @user.image.blank? %>
        <img src="/system/person-placeholder.jpg" class="user_image_placeholder"/>
      <% else %>
        <%= image_tag @user.image.url(:med) %>
      <% end %>
      </div>


      <h3 class="inline"><%= @user.first_name %> <%= @user.last_name %></h3>
        <% if user_signed_in? %>
          <% if @user != current_user && !current_user.follows?(@user) %>
            <div class="follow inline"><a href="/users/<%= @user.id %>/followUser" class="button btn btn-default">Follow</a></div>
          <% elsif @user != current_user && current_user.follows?(@user) %>
            <div class="unfollow inline"><a href="/users/<%= @user.id %>/unfollowUser" class="button btn btn-default">Unfollow</a></div>
          <% end %>
          <% if current_user == @user %>
            <p class="inline pointer" id="user_pic">Edit Picture</p>

            <div class="form-group fileinputs2"> <!-- Upload Images Options -->
              <form role="form" class="form-group user-picture" id="user-picture" action="/users/show/addUserPicture" enctype="multipart/form-data" accept-charset="UTF-8" method="post">
              <div class="radio-buttons">
                <p>Add an Image Options: (select one)</p>
                <label><input id="rdb3" type="radio" name="image_cb2" value="3" />Upload Image Using a URL</label>
                <label><input id="rdb4" type="radio" name="image_cb2" value="4" />Upload Image from Local Drive</label>
              </div>
              <div id="image_3" class="field toHide image-url">
                  Enter URL to Upload Your Image: <%= text_field_tag 'image_url2', id: "profile-url-field" %>
              </div>

              <div id="image_4" class="form-group toHide image-file">
                <label for="adventure_image2">Upload an Image From Your PC:</label><input type="file" class="file" name="user_image" id="adventure_image2" />
              </div>

              <div class="actions profile-pic-submit">
                <input class="btn btn-info" type="submit" name="commit2" value="Add"/>
              </div>
              </form>

               <p class="block" id="cancel">Cancel</p>
             </div> <!-- Upload Image End -->
          <% end %>
        <% end%>
    </div>
    <br>

    <p><%= @user.city %>, <%= @user.state %></p><br>

<h3 class="well">About Me</h3>

    <p><%= @user.about %></p>

</div>


<h3 class="well">My Bucket List:</h3>
<% if @user.adventures.any? %>
<% @user.adventures.each do |adventure| %>
<div class="container-fluid">
    <div class="row">
        <div class="bucket col-md-3 col-sm-6">
        <div class="tip" >
            <div class="handle"></div>
            <div class="img_tip">
            <%= link_to image_tag(adventure.image.url(:large)), adventure, :class => "image_tip" %>
          </div>
        </div>
            <h4><%= adventure.title.upcase %></h4>
            <h5><%= adventure.creator %></h5>
            <% if @user == current_user %>
            <h5><%= link_to 'Show', adventure %> | <%= link_to 'Edit', edit_adventure_path(adventure) %> | <%= link_to 'Dump', adventure, method: :delete, data: { confirm: 'Are you sure?' } %></h5>
            <% end %>
        </div>
    <% end %>
    <% else %>
      <p>no adventures added</p>
    <% end %>

    </div>
</div>
<!--<div class="bucket"></div>-->

<% if @user == current_user %>
<div class="container-fluid">
    <div class="row">
        <h3 class="well">Add New Adventure</h3>
        <div class="col-md-6">
          <form role="form" class="form-group new_adventure" id="new_adventure" action="/users/<%= @user.id %>/add_adventure" enctype="multipart/form-data" accept-charset="UTF-8" method="post">
                <div class="form-group">
                      <label for="adventure_title">Adventure Name</label>
                      <input class="form-control" type="text" name="adventure[title]" id="adventure_title" />
                </div>
                <div class="form-group">
                      <label for="adventure_description">Description</label>
                      <textarea class="form-control" rows="3" name="adventure[description]" id="adventure_description"></textarea>
                </div>
                <div class="form-group">
                      <label for="adventure_duedate">Due Date</label>
                      <input class="form-control" type="date" name="adventure[duedate]" id="adventure_duedate" />
                </div>
                <div class="form-group">
                      <label for="adventure_priority">Priority</label>
                      <input class="form-control" type="number" name="adventure[priority]" min="1" max="5" id="adventure_priority"/>
                </div>

                <div class="form-group fileinputs"> <!-- Upload Images Options -->
                        <p>Add an Image Options: (select one)</p>
                        <label><input id="rdb1" type="radio" name="image_cb" value="1" />Upload Image Using a URL</label>
    <label><input id="rdb2" type="radio" name="image_cb" value="2" />Upload Image from Local Drive</label>

                        <div id="image_1" class="field toHide">
                            Enter URL to Upload Your Image: <%= text_field_tag 'image_url' %>
                        </div>
                        <div id="image_2" class="form-group toHide">
                          <label for="adventure_image">Upload an Image From Your PC:</label><input type="file" class="file" name="adventure[image]" id="adventure_image" />
                        </div>
                 </div> <!-- Upload Image End -->
                    <div class="checkbox">
                          <label for="adventure_completed"><input class="checkbox" type="checkbox" name="adventure[completed]" id="adventure_completed" value="Done">Done?</label>
                    </div>

                <div class="form-group actions">
                  <input class="btn btn-info" type="submit" name="commit" value="Add"/>
                </div>
          </form>
        </div>
    </div>
</div>
<% end %>
